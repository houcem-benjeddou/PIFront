<div class="container mt-5">
  <h2 class="text-center">Analyse du MarchÃ© pour le Symbole : {{ symbol }}</h2>
  <div class="input-container">
    <input [(ngModel)]="symbol" class="form-control input-symbol" placeholder="Entrez un symbole (ex: AAPL)" />
    <div class="buttons">
      <button class="btn btn-primary" (click)="getRecommendationTrends()">Tendances de Recommandation</button>
      <button class="btn btn-info" (click)="getHistoricalOptions()">Options Historiques</button>
      <button class="btn btn-warning" (click)="getRisk()">Ã‰valuation du Risque</button>
      <button class="btn btn-success" (click)="getSentimentAnalysis()">Analyse Sentimentale</button>
    </div>
  </div>

  <!-- Affichage des erreurs -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    <strong>Erreur!</strong> {{ errorMessage }}
  </div>

  <!-- Cartes pour afficher les rÃ©sultats -->
  <!-- Tendances de recommandation -->
  <div *ngIf="selectedChart === 'recommendation'" class="card">
    <div class="card-header">
      <h4>Tendances de Recommandation</h4>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <canvas baseChart [data]="recommendationChartData" [options]="chartOptions" [type]="chartType"></canvas>
        </div>
        <div class="col-md-6">
          <div class="trend-indicator">
            <h5>Recommandation: {{ recommendationTrends?.buy > 0.5 ? 'Acheter' : 'Vendre' }}</h5>
            <div *ngIf="recommendationTrends?.buy > 0.5" class="indicator buy">ðŸ’š</div>
            <div *ngIf="recommendationTrends?.buy <= 0.5" class="indicator sell">ðŸ’”</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Options historiques -->
  <div *ngIf="selectedChart === 'historical'" class="card">
    <div class="card-header">
      <h4>Options Historiques</h4>
    </div>
    <div class="card-body">
      <canvas baseChart [data]="historicalChartData" [options]="chartOptions" [type]="chartType"></canvas>
    </div>
  </div>

  <!-- Risque -->
  <div *ngIf="selectedChart === 'risk'" class="card">
    <div class="card-header">
      <h4>Ã‰valuation du Risque</h4>
    </div>
    <div class="card-body">
      <canvas baseChart [data]="riskChartData" [options]="chartOptions" [type]="chartType"></canvas>
    </div>
  </div>

  <!-- Sentiment -->
  <div *ngIf="selectedChart === 'sentiment'" class="card">
    <div class="card-header">
      <h4>Analyse Sentimentale</h4>
    </div>
    <div class="card-body">
      <p>{{ sentimentAnalysis }}</p>
    </div>
  </div>
</div>
